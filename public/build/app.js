/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunkPin_Up=self.webpackChunkPin_Up||[]).push([[524],{1:()=>{document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".tab-btn"),t=document.querySelectorAll(".articles-list");e.forEach(function(n){n.addEventListener("click",function(){var r=n.dataset.id;e.forEach(function(e){return e.classList.remove("active")}),n.classList.add("active"),document.querySelectorAll(".article-card.open").forEach(function(e){e.classList.remove("open")}),t.forEach(function(e){e.style.display=e.id==="cat-".concat(r)?"block":"none"}),document.querySelectorAll('.articles-list:not([style*="display: none"]) .article-card').forEach(function(e){e.querySelector(".toggle-text").onclick=function(t){t.stopPropagation();var n=window.scrollY;e.classList.toggle("open"),window.scrollTo({top:n})}})})}),e.length>0&&e[0].click()})},28:(e,t,n)=>{"use strict";n(792),n(678),n(207),n(1),n(711),n(845);console.log("This log comes from assets/app.js - welcome to AssetMapper! üéâ")},207:()=>{document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".tab-btn"),t=document.querySelectorAll(".articles-list");e.forEach(function(n){n.addEventListener("click",function(){t.forEach(function(e){return e.style.display="none"}),e.forEach(function(e){return e.classList.remove("active")});var r=n.dataset.id;document.getElementById("cat-"+r).style.display="block",n.classList.add("active")})}),e.length>0&&(e[0].classList.add("active"),document.getElementById("cat-"+e[0].dataset.id).style.display="block")})},678:()=>{document.addEventListener("DOMContentLoaded",function(){if(!document.body.classList.contains("login-page"))for(var e=document.querySelector(".stars"),t=["star1.png","star2.png"],n=0;n<60;n++){var r=document.createElement("img");r.src="/images/stars/"+t[Math.floor(Math.random()*t.length)],r.className="star",r.alt="√©toiles d√©coratives",r.style.left=100*Math.random()+"%",r.style.top=100*Math.random()+"%";var o=10+20*Math.random();r.style.width=o+"px",e.appendChild(r)}})},711:()=>{document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".carousel-track"),t=document.querySelectorAll(".carousel-item"),n=0;document.querySelector(".next").onclick=function(){return e.style.transform="translateX(-".concat(++n%t.length*100,"%)")},document.querySelector(".prev").onclick=function(){return e.style.transform="translateX(-".concat((--n+t.length)%t.length*100,"%)")}})},792:()=>{document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("open-menu"),t=(document.getElementById("close-menu"),document.getElementById("side-menu")),n=document.querySelector(".overlay"),r=document.body;function o(){t.classList.add("closing"),n.classList.remove("active"),r.classList.remove("no-scroll"),r.style.overflow="",e.classList.remove("active"),t.addEventListener("transitionend",function(){t.classList.remove("open","closing")},{once:!0})}e.addEventListener("click",function(){t.classList.contains("open")?o():(t.classList.add("open"),n.classList.add("active"),r.classList.add("no-scroll"),r.style.overflow="hidden",e.classList.add("active"))}),n.addEventListener("click",o)})},845:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){var e,r,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(t,o,c,a){var i=o&&o.prototype instanceof l?o:l,u=Object.create(i.prototype);return n(u,"_invoke",function(t,n,o){var c,a,i,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return c=t,a=0,i=e,f.n=n,s}};function v(t,n){for(a=t,i=n,r=0;!d&&l&&!o&&r<u.length;r++){var o,c=u[r],v=f.p,p=c[2];t>3?(o=p===n)&&(i=c[(a=c[4])?5:(a=3,3)],c[4]=c[5]=e):c[0]<=v&&((o=t<2&&v<c[1])?(a=0,f.v=n,f.n=c[1]):v<p&&(o=t<3||c[0]>n||n>p)&&(c[4]=t,c[5]=n,f.n=p,a=0))}if(o||t>1)return s;throw d=!0,n}return function(o,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&v(u,p),a=u,i=p;(r=a<2?e:i)||!d;){c||(a?a<3?(a>1&&(f.n=-1),v(a,i)):f.n=i:f.v=i);try{if(l=2,c){if(a||(o="next"),r=c[o]){if(!(r=r.call(c,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=c.return)&&r.call(c),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);c=e}else if((r=(d=f.n<0)?i:t.call(n,f))!==s)break}catch(t){c=e,a=1,i=t}finally{l=1}}return{value:r,done:d}}}(t,c,a),!0),u}var s={};function l(){}function u(){}function d(){}r=Object.getPrototypeOf;var f=[][c]?r(r([][c]())):(n(r={},c,function(){return this}),r),v=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,n(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e}return u.prototype=d,n(v,"constructor",d),n(d,"constructor",u),u.displayName="GeneratorFunction",n(d,a,"GeneratorFunction"),n(v),n(v,a,"Generator"),n(v,c,function(){return this}),n(v,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m:p}})()}function n(e,t,r,o){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}n=function(e,t,r,o){function a(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?c?c(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},n(e,t,r,o)}function r(e,t,n,r,o,c,a){try{var i=e[c](a),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var a=e.apply(t,n);function i(e){r(a,o,c,i,s,"next",e)}function s(e){r(a,o,c,i,s,"throw",e)}i(void 0)})}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("calendar");if(e){var n=document.createElement("div");n.className="event-list",e.after(n);var r=new FullCalendar.Calendar(e,{initialView:"dayGridMonth",locale:"fr",events:"/api/events",headerToolbar:{left:"title",right:"prev,next today"},buttonText:{today:"Aujourd'hui",prev:"Pr√©c√©dent",next:"Suivant"},datesSet:c});r.render(),c()}function c(){var e=r.getDate(),c=[e.getMonth(),e.getFullYear()],i=c[0],s=c[1];fetch("/api/events").then(function(e){return e.json()}).then(function(e){var r=e.map(function(e){return a(a({},e),{},{date:new Date(e.start)})}).filter(function(e){return e.date.getMonth()===i&&e.date.getFullYear()===s}).sort(function(e,t){return e.date-t.date});n.innerHTML=r.length?"":'<p class="no-events">Aucun √©v√©nement ce mois-ci.</p>',r.forEach(function(e){var r,c,a=null!==(r=e.extendedProps)&&void 0!==r&&r.imageUrl?'<img src="'.concat(e.extendedProps.imageUrl,'" class="event-thumb" alt="').concat(e.title,'" onerror="this.style.display=\'none\';">'):"",i=document.createElement("div");i.className="event-card",i.innerHTML='\n                        <div class="event-header">\n                            '.concat(a,'\n                            <div class="event-meta">\n                                <h3 class="event-title">').concat(e.title,'</h3>\n                                <p class="event-date">').concat(e.date.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),'</p>\n                            </div>\n                        </div>\n                        <div class="event-details" style="display:none;">\n                            <p>').concat((null===(c=e.extendedProps)||void 0===c?void 0:c.content)||"Pas de description.",'</p>\n                            <div class="event-reserve">\n                                <button class="reserve-button">S\'inscrire √† l\'√©v√©nement</button>\n                            </div>\n                        </div>\n                    '),i.onclick=function(){var e=i.querySelector(".event-details");e.style.display="block"===e.style.display?"none":"block",i.classList.toggle("open")},i.querySelector(".reserve-button").onclick=function(n){var r,c,a,i,s,l,u,d,f;(n.stopPropagation(),IS_LOGGED_IN)?(r=e.id,c=e.title,a=e.start,i=document.getElementById("modal"),s=document.getElementById("reservationList"),l=document.getElementById("reservationMessage"),u=document.getElementById("reserveBtn"),d=document.getElementById("unreserveBtn"),f=document.getElementById("closeModal"),s.innerHTML="\n        <li>\n            <h3>".concat(c,"</h3>\n            <p><strong>Date :</strong> ").concat(new Date(a).toLocaleDateString("fr-FR"),"</p>\n        </li>\n    "),fetch("/api/event/".concat(r,"/reservations")).then(function(e){return e.json()}).then(function(e){l.innerHTML=e.length?"<p><strong>D√©j√† inscrit(s) :</strong></p><ul>".concat(e.map(function(e){return"<li>".concat(e,"</li>")}).join(""),"</ul>"):"<p>Aucun inscrit pour le moment.</p>"}),i.style.display="flex",u.onclick=o(t().m(function e(){var n,o,c;return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch("/api/reserve/".concat(r),{method:"POST"});case 1:return n=e.v,e.n=2,n.json();case 2:if(o=e.v,!n.ok||!o.success){e.n=5;break}return l.innerHTML="<p style='color:green;'>R√©servation confirm√©e</p>",e.n=3,fetch("/api/event/".concat(r,"/reservations"));case 3:return e.n=4,e.v.json();case 4:c=e.v,l.innerHTML+="<p><strong>Liste des inscrits :</strong></p><ul>".concat(c.map(function(e){return"<li>".concat(e,"</li>")}).join(""),"</ul>"),e.n=6;break;case 5:l.innerHTML="<p style='color:red;'>".concat(o.error||"Erreur lors de la r√©servation","</p>");case 6:return e.a(2)}},e)})),d.onclick=o(t().m(function e(){var n,o,c;return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch("/api/unreserve/".concat(r),{method:"DELETE"});case 1:return n=e.v,e.n=2,n.json();case 2:if(o=e.v,!n.ok||!o.success){e.n=5;break}return l.innerHTML="<p style='color:red;'>R√©servation annul√©e</p>",e.n=3,fetch("/api/event/".concat(r,"/reservations"));case 3:return e.n=4,e.v.json();case 4:c=e.v,l.innerHTML+=c.length?"<p><strong>Liste restante :</strong></p><ul>".concat(c.map(function(e){return"<li>".concat(e,"</li>")}).join(""),"</ul>"):"<p>Aucun inscrit pour le moment.</p>",e.n=6;break;case 5:l.innerHTML="<p style='color:red;'>".concat(o.error||"Vous n'avez fait aucune r√©servation","</p>");case 6:return e.a(2)}},e)})),f.onclick=function(){return i.style.display="none"}):window.location.href=LOGIN_URL},n.append(i)})}).catch(function(){n.innerHTML='<p class="no-events">Erreur de chargement des √©v√©nements.</p>'})}})}},e=>{var t;t=28,e(e.s=t)}]);